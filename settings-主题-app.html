
<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>App 主题</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>
<style>
    .hide-scrollbar::-webkit-scrollbar { display: none; }
    .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    @keyframes slideIn {
      from { transform: translateY(10px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .animate-slide-in {
      animation: slideIn 0.4s ease-out forwards;
    }
  </style>
</head>
<body class="bg-[#F2F2F7] flex justify-center items-center min-h-screen">
<!-- iPhone 15 Pro Container -->
<div class="w-[375px] h-[812px] bg-[#F2F2F7] rounded-[3rem] shadow-2xl border-[8px] border-gray-900 overflow-hidden relative flex flex-col">
<!-- 状态栏 -->
<div class="h-11 flex justify-between items-center px-8 bg-[#F2F2F7]">
<span class="text-[15px] font-semibold">9:41</span>
<div class="flex space-x-1.5 items-center">
<span class="iconify w-4 h-4" data-icon="heroicons:signal-20-solid"></span>
<span class="iconify w-4 h-4" data-icon="heroicons:wifi-20-solid"></span>
<span class="iconify w-5 h-5" data-icon="heroicons:battery-100-20-solid"></span>
</div>
</div>
<!-- 标题栏 -->
<header class="h-14 flex items-center px-4 bg-[#F2F2F7]">
<a href="settings-主题.html" class="flex items-center text-blue-500">
<span class="iconify w-6 h-6" data-icon="heroicons:chevron-left-20-solid"></span>
<span class="text-[17px]">主题</span>
</a>
<h1 class="flex-1 text-center text-[17px] font-semibold pr-16">App 主题</h1>
</header>
<!-- 主内容区 -->
<main class="flex-1 overflow-y-auto hide-scrollbar px-4 pb-8 space-y-6">
<!-- App 预览 -->
<section class="animate-slide-in" style="animation-delay: 0.1s;">
<div class="bg-white rounded-2xl p-4 shadow-sm">
<!-- 模拟 App 界面 -->
<div class="rounded-2xl overflow-hidden border border-gray-200">
<!-- App 状态栏模拟 -->
<div class="h-6 bg-gray-50 flex justify-between items-center px-4">
<span class="text-[10px] text-gray-400">9:41</span>
<div class="flex gap-1">
<div class="w-2 h-2 bg-gray-300 rounded-full"></div>
<div class="w-2 h-2 bg-gray-300 rounded-full"></div>
<div class="w-3 h-2 bg-gray-300 rounded"></div>
</div>
</div>
<!-- App 内容区 -->
<div class="p-4" id="appPreview" style="background: linear-gradient(135deg, #3b82f6, #6366f1);">
<div class="text-center py-6">
<p class="text-white/60 text-[10px] font-medium mb-1">当前心率</p>
<p class="text-white text-[42px] font-black leading-none">128</p>
<p class="text-white/80 text-[12px] mt-1">BPM</p>
</div>
<!-- 模拟统计区 -->
<div class="grid grid-cols-3 gap-2 mt-2">
<div class="bg-white/20 rounded-lg p-2 text-center">
<p class="text-white/60 text-[8px]">最低</p>
<p class="text-white text-[14px] font-bold">62</p>
</div>
<div class="bg-white/20 rounded-lg p-2 text-center">
<p class="text-white/60 text-[8px]">平均</p>
<p class="text-white text-[14px] font-bold">78</p>
</div>
<div class="bg-white/20 rounded-lg p-2 text-center">
<p class="text-white/60 text-[8px]">最高</p>
<p class="text-white text-[14px] font-bold">142</p>
</div>
</div>
</div>
</div>
<p class="text-center text-[11px] text-gray-400 mt-3">iPhone App 界面预览</p>
</div>
</section>

<!-- 外观模式 -->
<section class="space-y-3 animate-slide-in" style="animation-delay: 0.2s;">
<h2 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider px-1">外观模式</h2>
<div class="bg-white rounded-2xl overflow-hidden shadow-sm">
<div class="p-4">
<div class="grid grid-cols-3 gap-3">
<!-- 浅色 -->
<div class="relative cursor-pointer" onclick="selectAppearance('light')">
<div class="aspect-[3/4] bg-white rounded-xl border-2 border-transparent flex flex-col items-center justify-center shadow-sm" id="appearance-light">
<div class="w-8 h-8 bg-gray-100 rounded-lg mb-2 flex items-center justify-center">
<span class="iconify w-5 h-5 text-gray-400" data-icon="heroicons:sun-20-solid"></span>
</div>
<span class="text-[11px] text-gray-600 font-medium">浅色</span>
</div>
</div>
<!-- 深色 -->
<div class="relative cursor-pointer" onclick="selectAppearance('dark')">
<div class="aspect-[3/4] bg-gray-900 rounded-xl border-2 border-transparent flex flex-col items-center justify-center shadow-sm" id="appearance-dark">
<div class="w-8 h-8 bg-gray-800 rounded-lg mb-2 flex items-center justify-center">
<span class="iconify w-5 h-5 text-gray-400" data-icon="heroicons:moon-20-solid"></span>
</div>
<span class="text-[11px] text-gray-400 font-medium">深色</span>
</div>
</div>
<!-- 跟随系统 -->
<div class="relative cursor-pointer" onclick="selectAppearance('auto')">
<div class="aspect-[3/4] bg-gradient-to-b from-white to-gray-900 rounded-xl border-2 border-blue-500 flex flex-col items-center justify-center shadow-sm" id="appearance-auto">
<div class="w-8 h-8 bg-blue-500/20 rounded-lg mb-2 flex items-center justify-center">
<span class="iconify w-5 h-5 text-blue-500" data-icon="heroicons:device-phone-mobile-20-solid"></span>
</div>
<span class="text-[11px] text-gray-600 font-medium">自动</span>
<div class="absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center">
<span class="iconify w-3 h-3 text-white" data-icon="heroicons:check-20-solid"></span>
</div>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- 主题配色 -->
<section class="space-y-3 animate-slide-in" style="animation-delay: 0.3s;">
<h2 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider px-1">主题配色</h2>
<div class="grid grid-cols-4 gap-3">
<!-- 经典蓝 (选中) -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'blue', '经典蓝')">
<div class="aspect-square bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-md border-2 border-blue-500">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<div class="absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center">
<span class="iconify w-3 h-3 text-white" data-icon="heroicons:check-20-solid"></span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">经典蓝</p>
</div>
<!-- 日落橙 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'orange', '日落橙')">
<div class="aspect-square bg-gradient-to-br from-orange-400 to-red-500 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">日落橙</p>
</div>
<!-- 森林绿 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'green', '森林绿')">
<div class="aspect-square bg-gradient-to-br from-emerald-400 to-teal-600 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">森林绿</p>
</div>
<!-- 午夜紫 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'purple', '午夜紫')">
<div class="aspect-square bg-gradient-to-br from-purple-500 to-violet-700 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">午夜紫</p>
</div>
<!-- 玫瑰红 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'pink', '玫瑰红')">
<div class="aspect-square bg-gradient-to-br from-pink-400 to-rose-600 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">玫瑰红</p>
</div>
<!-- 暗夜黑 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'dark', '暗夜黑')">
<div class="aspect-square bg-gradient-to-br from-gray-700 to-gray-900 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">暗夜黑</p>
</div>
<!-- 清新蓝 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'cyan', '清新蓝')">
<div class="aspect-square bg-gradient-to-br from-cyan-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">清新蓝</p>
</div>
<!-- 琥珀金 -->
<div class="relative cursor-pointer" onclick="selectAppTheme(this, 'amber', '琥珀金')">
<div class="aspect-square bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-md border-2 border-transparent">
<span class="text-white font-bold text-[16px]">128</span>
</div>
<p class="text-[10px] text-center text-gray-600 mt-1.5 font-medium">琥珀金</p>
</div>
</div>
</section>

<!-- 强调色 -->
<section class="space-y-3 animate-slide-in" style="animation-delay: 0.4s;">
<h2 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider px-1">强调色</h2>
<div class="bg-white rounded-2xl overflow-hidden shadow-sm p-4">
<p class="text-[12px] text-gray-500 mb-3">选择按钮、链接等交互元素的颜色</p>
<div class="flex gap-3 flex-wrap">
<button class="w-10 h-10 rounded-full bg-blue-500 border-2 border-blue-500 flex items-center justify-center" onclick="selectAccent('blue')">
<span class="iconify w-5 h-5 text-white" data-icon="heroicons:check-20-solid"></span>
</button>
<button class="w-10 h-10 rounded-full bg-purple-500 border-2 border-transparent" onclick="selectAccent('purple')"></button>
<button class="w-10 h-10 rounded-full bg-pink-500 border-2 border-transparent" onclick="selectAccent('pink')"></button>
<button class="w-10 h-10 rounded-full bg-red-500 border-2 border-transparent" onclick="selectAccent('red')"></button>
<button class="w-10 h-10 rounded-full bg-orange-500 border-2 border-transparent" onclick="selectAccent('orange')"></button>
<button class="w-10 h-10 rounded-full bg-green-500 border-2 border-transparent" onclick="selectAccent('green')"></button>
<button class="w-10 h-10 rounded-full bg-teal-500 border-2 border-transparent" onclick="selectAccent('teal')"></button>
</div>
</div>
</section>

<!-- 显示设置 -->
<section class="space-y-3 animate-slide-in" style="animation-delay: 0.5s;">
<h2 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider px-1">显示设置</h2>
<div class="bg-white rounded-2xl overflow-hidden shadow-sm">
<!-- 显示统计卡片 -->
<div class="flex items-center justify-between p-4 border-b border-gray-100">
<div class="flex items-center gap-3">
<div class="w-9 h-9 bg-blue-100 rounded-lg flex items-center justify-center">
<span class="iconify w-5 h-5 text-blue-500" data-icon="heroicons:chart-bar-20-solid"></span>
</div>
<div>
<p class="text-[15px] font-medium">显示统计卡片</p>
<p class="text-[11px] text-gray-400">最低/平均/最高值</p>
</div>
</div>
<div class="w-12 h-7 bg-blue-500 rounded-full relative cursor-pointer" onclick="this.classList.toggle('bg-blue-500'); this.classList.toggle('bg-gray-300'); this.querySelector('div').classList.toggle('translate-x-5');">
<div class="absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow-md transition-transform translate-x-5"></div>
</div>
</div>
<!-- 渐变背景 -->
<div class="flex items-center justify-between p-4 border-b border-gray-100">
<div class="flex items-center gap-3">
<div class="w-9 h-9 bg-purple-100 rounded-lg flex items-center justify-center">
<span class="iconify w-5 h-5 text-purple-500" data-icon="heroicons:paint-brush-20-solid"></span>
</div>
<div>
<p class="text-[15px] font-medium">渐变背景</p>
<p class="text-[11px] text-gray-400">使用渐变色作为背景</p>
</div>
</div>
<div class="w-12 h-7 bg-blue-500 rounded-full relative cursor-pointer" onclick="this.classList.toggle('bg-blue-500'); this.classList.toggle('bg-gray-300'); this.querySelector('div').classList.toggle('translate-x-5');">
<div class="absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow-md transition-transform translate-x-5"></div>
</div>
</div>
<!-- 动态效果 -->
<div class="flex items-center justify-between p-4">
<div class="flex items-center gap-3">
<div class="w-9 h-9 bg-green-100 rounded-lg flex items-center justify-center">
<span class="iconify w-5 h-5 text-green-500" data-icon="heroicons:sparkles-20-solid"></span>
</div>
<div>
<p class="text-[15px] font-medium">动态效果</p>
<p class="text-[11px] text-gray-400">界面动画与过渡效果</p>
</div>
</div>
<div class="w-12 h-7 bg-blue-500 rounded-full relative cursor-pointer" onclick="this.classList.toggle('bg-blue-500'); this.classList.toggle('bg-gray-300'); this.querySelector('div').classList.toggle('translate-x-5');">
<div class="absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full shadow-md transition-transform translate-x-5"></div>
</div>
</div>
</div>
</section>

<!-- 自定义主题入口 -->
<section class="animate-slide-in" style="animation-delay: 0.6s;">
<a href="settings-主题-渐变.html" class="bg-white rounded-2xl p-4 shadow-sm flex items-center justify-between">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-gradient-to-br from-pink-400 to-purple-500 rounded-xl flex items-center justify-center">
<span class="iconify w-6 h-6 text-white" data-icon="heroicons:swatch-20-solid"></span>
</div>
<div>
<p class="text-[15px] font-semibold">自定义渐变色</p>
<p class="text-[12px] text-gray-400">创建专属配色方案</p>
</div>
</div>
<span class="iconify w-5 h-5 text-gray-300" data-icon="heroicons:chevron-right-20-solid"></span>
</a>
</section>

<!-- 贴纸动画 -->
<section class="space-y-3 animate-slide-in" style="animation-delay: 0.7s;">
<div class="flex justify-between items-center px-1">
<h2 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider">贴纸动画</h2>
<button class="text-[12px] text-blue-500 font-medium" onclick="showStickerSheet()">更多贴纸</button>
</div>
<div class="bg-white rounded-2xl overflow-hidden shadow-sm p-4">
<p class="text-[12px] text-gray-500 mb-3">选择动态贴纸装饰心率显示</p>
<div class="flex gap-3 overflow-x-auto hide-scrollbar pb-2">
<div class="relative flex-shrink-0 cursor-pointer" onclick="selectSticker(this, 'none')">
<div class="w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center border-2 border-blue-500">
<span class="iconify w-5 h-5 text-gray-400" data-icon="heroicons:x-mark-20-solid"></span>
</div>
<div class="absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center">
<span class="iconify w-2.5 h-2.5 text-white" data-icon="heroicons:check-20-solid"></span>
</div>
<p class="text-[9px] text-center text-gray-500 mt-1">无</p>
</div>
<div class="relative flex-shrink-0 cursor-pointer" onclick="selectSticker(this, 'heartbeat')">
<div class="w-14 h-14 bg-red-50 rounded-xl flex items-center justify-center border-2 border-transparent">
<span class="iconify w-7 h-7 text-red-500 animate-pulse" data-icon="heroicons:heart-20-solid"></span>
</div>
<p class="text-[9px] text-center text-gray-500 mt-1">心跳</p>
</div>
<div class="relative flex-shrink-0 cursor-pointer" onclick="selectSticker(this, 'sparkle')">
<div class="w-14 h-14 bg-yellow-50 rounded-xl flex items-center justify-center border-2 border-transparent">
<span class="iconify w-7 h-7 text-yellow-500" data-icon="heroicons:sparkles-20-solid"></span>
</div>
<p class="text-[9px] text-center text-gray-500 mt-1">闪烁</p>
</div>
<div class="relative flex-shrink-0 cursor-pointer" onclick="selectSticker(this, 'fire')">
<div class="w-14 h-14 bg-orange-50 rounded-xl flex items-center justify-center border-2 border-transparent">
<span class="iconify w-7 h-7 text-orange-500" data-icon="heroicons:fire-20-solid"></span>
</div>
<p class="text-[9px] text-center text-gray-500 mt-1">火焰</p>
</div>
<div class="relative flex-shrink-0 cursor-pointer opacity-50" onclick="showStickerSheet()">
<div class="w-14 h-14 bg-gray-100 rounded-xl flex items-center justify-center border-2 border-dashed border-gray-300">
<span class="iconify w-5 h-5 text-gray-400" data-icon="heroicons:plus-20-solid"></span>
</div>
<p class="text-[9px] text-center text-gray-400 mt-1">更多</p>
</div>
</div>
</div>
</section>

<!-- 可视化编辑器入口 -->
<section class="animate-slide-in" style="animation-delay: 0.8s;">
<button class="w-full bg-gradient-to-r from-blue-500 to-indigo-600 p-4 rounded-2xl shadow-lg flex items-center justify-between active:scale-98 transition-transform" onclick="showEditorSheet()">
<div class="flex items-center gap-3">
<div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center">
<span class="iconify w-6 h-6 text-white" data-icon="heroicons:pencil-square-20-solid"></span>
</div>
<div class="text-left">
<p class="text-[15px] font-semibold text-white">打开可视化编辑器</p>
<p class="text-[11px] text-white/70">调整 App 内心率显示布局</p>
</div>
</div>
<span class="iconify w-5 h-5 text-white/60" data-icon="heroicons:chevron-right-20-solid"></span>
</button>
</section>
</main>

<!-- Toast 提示 -->
<div class="absolute bottom-24 left-1/2 -translate-x-1/2 bg-gray-900/90 text-white text-[14px] px-5 py-2.5 rounded-full font-medium opacity-0 transition-opacity pointer-events-none" id="toast">
主题已更新
</div>

<!-- TG风格贴纸选择面板 -->
<div class="absolute inset-0 z-40 invisible pointer-events-none transition-all duration-300" id="stickerSheet">
<div class="absolute inset-0 bg-black/40 opacity-0 transition-opacity duration-300" id="stickerOverlay" onclick="hideStickerSheet()"></div>
<div class="absolute bottom-0 w-full h-[70%] bg-[#F2F2F7] rounded-t-[20px] shadow-2xl translate-y-full transition-transform duration-300 flex flex-col overflow-hidden" id="stickerContent">
<div class="h-1.5 w-10 bg-gray-300 rounded-full mx-auto mt-2"></div>
<div class="flex justify-between items-center px-4 py-3 bg-white border-b border-gray-100">
<button class="text-blue-500 font-medium text-[16px]" onclick="hideStickerSheet()">关闭</button>
<h2 class="text-[17px] font-bold">贴纸商店</h2>
<button class="text-blue-500 font-medium text-[16px]" onclick="goToStickerStore()">商店</button>
</div>
<div class="flex gap-2 px-4 py-3 bg-white border-b border-gray-100 overflow-x-auto hide-scrollbar">
<button class="px-3 py-1.5 bg-blue-500 text-white rounded-full text-[12px] font-medium flex-shrink-0">全部</button>
<button class="px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-[12px] font-medium flex-shrink-0">已下载</button>
<button class="px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-[12px] font-medium flex-shrink-0">热门</button>
<button class="px-3 py-1.5 bg-gray-100 text-gray-600 rounded-full text-[12px] font-medium flex-shrink-0">运动</button>
</div>
<div class="flex-1 overflow-y-auto hide-scrollbar p-4">
<div class="mb-6">
<h3 class="text-[13px] font-medium text-gray-500 uppercase tracking-wider mb-3">已下载</h3>
<div class="grid grid-cols-4 gap-3">
<div class="relative cursor-pointer" onclick="selectStickerFromSheet('heartbeat')">
<div class="aspect-square bg-red-50 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-blue-500">
<span class="iconify w-10 h-10 text-red-500 animate-pulse" data-icon="heroicons:heart-20-solid"></span>
</div>
<p class="text-[10px] text-center text-gray-500 mt-1">心跳</p>
</div>
<div class="relative cursor-pointer" onclick="selectStickerFromSheet('sparkle')">
<div class="aspect-square bg-yellow-50 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-blue-500">
<span class="iconify w-10 h-10 text-yellow-500" data-icon="heroicons:sparkles-20-solid"></span>
</div>
<p class="text-[10px] text-center text-gray-500 mt-1">闪烁</p>
</div>
<div class="relative cursor-pointer" onclick="selectStickerFromSheet('fire')">
<div class="aspect-square bg-orange-50 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-blue-500">
<span class="iconify w-10 h-10 text-orange-500" data-icon="heroicons:fire-20-solid"></span>
</div>
<p class="text-[10px] text-center text-gray-500 mt-1">火焰</p>
</div>
<div class="relative cursor-pointer" onclick="selectStickerFromSheet('bolt')">
<div class="aspect-square bg-blue-50 rounded-xl flex items-center justify-center border-2 border-transparent hover:border-blue-500">
<span class="iconify w-10 h-10 text-blue-500" data-icon="heroicons:bolt-20-solid"></span>
</div>
<p class="text-[10px] text-center text-gray-500 mt-1">闪电</p>
</div>
</div>
</div>
<div class="text-center py-4">
<button class="px-6 py-3 bg-blue-600 text-white rounded-full text-[15px] font-semibold shadow-lg" onclick="goToStickerStore()">
<span class="iconify w-5 h-5 inline mr-2" data-icon="heroicons:shopping-bag-20-solid"></span>前往贴纸商店
</button>
</div>
</div>
</div>
</div>

<!-- 可视化编辑器面板 -->
<div class="absolute inset-0 z-50 invisible pointer-events-none transition-all duration-300" id="editorSheet">
<div class="absolute inset-0 bg-black/60 opacity-0 transition-opacity duration-300" id="editorOverlay" onclick="hideEditorSheet()"></div>
<div class="absolute inset-0 bg-[#1a1a2e] translate-y-full transition-transform duration-300 flex flex-col overflow-hidden" id="editorContent">
<!-- 编辑器头部 -->
<div class="flex justify-between items-center px-4 py-3 bg-[#16213e] border-b border-white/10">
<button class="text-white/80 font-medium text-[16px]" onclick="hideEditorSheet()">取消</button>
<h2 class="text-[17px] font-bold text-white">App 布局编辑器</h2>
<button class="text-blue-400 font-medium text-[16px]" onclick="saveEditorChanges()">保存</button>
</div>
<!-- 缩放控制条 -->
<div class="flex items-center justify-center gap-4 py-3 bg-[#16213e]/50">
<button class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center" onclick="zoomEditor(-10)">
<span class="iconify w-5 h-5 text-white" data-icon="heroicons:minus-20-solid"></span>
</button>
<div class="flex items-center gap-2">
<span class="iconify w-4 h-4 text-white/60" data-icon="heroicons:magnifying-glass-minus-20-solid"></span>
<input type="range" min="50" max="150" value="100" class="w-24 h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer" id="zoomSlider" oninput="updateZoom()">
<span class="iconify w-4 h-4 text-white/60" data-icon="heroicons:magnifying-glass-plus-20-solid"></span>
</div>
<span class="text-white/60 text-[13px] w-12" id="zoomValue">100%</span>
<button class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center" onclick="zoomEditor(10)">
<span class="iconify w-5 h-5 text-white" data-icon="heroicons:plus-20-solid"></span>
</button>
</div>
<!-- 编辑画布区域 - iPhone 模拟 -->
<div class="flex-1 flex items-center justify-center p-4 overflow-hidden">
<div class="relative bg-gray-900 rounded-[2rem] shadow-2xl transition-transform p-2" id="editorCanvas" style="width: 200px; height: 380px;">
<!-- 模拟 iPhone 屏幕 -->
<div class="w-full h-full bg-white rounded-[1.5rem] overflow-hidden">
<!-- 模拟状态栏 -->
<div class="h-6 bg-gray-100 flex justify-between items-center px-4">
<span class="text-[8px] text-gray-500">9:41</span>
<div class="flex gap-0.5">
<div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div>
<div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div>
<div class="w-2 h-1.5 bg-gray-400 rounded"></div>
</div>
</div>
<!-- 心率显示区域 -->
<div class="p-3 cursor-move" id="heartRateWidget" style="background: linear-gradient(135deg, #3b82f6, #6366f1);">
<div class="text-center py-4">
<p class="text-white/60 text-[8px] font-medium">当前心率</p>
<p class="text-white text-[32px] font-black leading-none">128</p>
<p class="text-white/80 text-[10px] mt-1">BPM</p>
</div>
<!-- 统计区 -->
<div class="grid grid-cols-3 gap-1 mt-2">
<div class="bg-white/20 rounded-lg p-1.5 text-center">
<p class="text-white/60 text-[6px]">最低</p>
<p class="text-white text-[10px] font-bold">62</p>
</div>
<div class="bg-white/20 rounded-lg p-1.5 text-center">
<p class="text-white/60 text-[6px]">平均</p>
<p class="text-white text-[10px] font-bold">78</p>
</div>
<div class="bg-white/20 rounded-lg p-1.5 text-center">
<p class="text-white/60 text-[6px]">最高</p>
<p class="text-white text-[10px] font-bold">142</p>
</div>
</div>
</div>
<!-- 其他内容占位 -->
<div class="p-3 space-y-2">
<div class="h-8 bg-gray-100 rounded-lg"></div>
<div class="h-8 bg-gray-100 rounded-lg"></div>
</div>
</div>
<!-- 调整手柄 -->
<div class="absolute -right-2 -bottom-2 w-5 h-5 bg-blue-500 rounded-full cursor-se-resize flex items-center justify-center">
<span class="iconify w-3 h-3 text-white" data-icon="heroicons:arrows-pointing-out-20-solid"></span>
</div>
</div>
</div>
<!-- 编辑工具栏 -->
<div class="bg-[#16213e] border-t border-white/10 p-4">
<div class="flex justify-around">
<button class="flex flex-col items-center gap-1 text-white/60 hover:text-white transition-colors">
<span class="iconify w-6 h-6" data-icon="heroicons:arrows-pointing-out-20-solid"></span>
<span class="text-[10px]">尺寸</span>
</button>
<button class="flex flex-col items-center gap-1 text-white/60 hover:text-white transition-colors">
<span class="iconify w-6 h-6" data-icon="heroicons:paint-brush-20-solid"></span>
<span class="text-[10px]">配色</span>
</button>
<button class="flex flex-col items-center gap-1 text-white/60 hover:text-white transition-colors">
<span class="iconify w-6 h-6" data-icon="heroicons:squares-2x2-20-solid"></span>
<span class="text-[10px]">布局</span>
</button>
<button class="flex flex-col items-center gap-1 text-white/60 hover:text-white transition-colors">
<span class="iconify w-6 h-6" data-icon="heroicons:adjustments-horizontal-20-solid"></span>
<span class="text-[10px]">字体</span>
</button>
<button class="flex flex-col items-center gap-1 text-white/60 hover:text-white transition-colors" onclick="resetEditor()">
<span class="iconify w-6 h-6" data-icon="heroicons:arrow-path-20-solid"></span>
<span class="text-[10px]">重置</span>
</button>
</div>
</div>
<!-- Home Indicator -->
<div class="h-8 flex items-center justify-center">
<div class="w-32 h-1.5 bg-white/30 rounded-full"></div>
</div>
</div>
</div>

<!-- Home Indicator -->
<div class="absolute bottom-2 left-1/2 -translate-x-1/2 w-32 h-1.5 bg-black rounded-full"></div>
</div>
<script>
    // 配色方案
    const themes = {
      blue: { primary: '#3b82f6', secondary: '#6366f1' },
      orange: { primary: '#fb923c', secondary: '#ef4444' },
      green: { primary: '#34d399', secondary: '#0d9488' },
      purple: { primary: '#a855f7', secondary: '#7c3aed' },
      pink: { primary: '#f472b6', secondary: '#e11d48' },
      dark: { primary: '#374151', secondary: '#111827' },
      cyan: { primary: '#22d3ee', secondary: '#3b82f6' },
      amber: { primary: '#fbbf24', secondary: '#f97316' }
    };

    function selectAppearance(mode) {
      // 移除所有选中状态
      ['light', 'dark', 'auto'].forEach(m => {
        const el = document.getElementById('appearance-' + m);
        el.classList.remove('border-blue-500');
        el.classList.add('border-transparent');
        const check = el.parentElement.querySelector('.bg-blue-500.rounded-full.w-5');
        if (check) check.remove();
      });

      // 添加选中状态
      const selected = document.getElementById('appearance-' + mode);
      selected.classList.remove('border-transparent');
      selected.classList.add('border-blue-500');

      // 添加勾选图标
      const checkDiv = document.createElement('div');
      checkDiv.className = 'absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center';
      checkDiv.innerHTML = '<span class="iconify w-3 h-3 text-white" data-icon="heroicons:check-20-solid"></span>';
      selected.parentElement.appendChild(checkDiv);

      showToast('外观模式已更新');
    }

    function selectAppTheme(element, themeKey, themeName) {
      // 移除所有选中状态
      document.querySelectorAll('.grid.grid-cols-4 > div').forEach(div => {
        const card = div.querySelector('.aspect-square');
        if (card) {
          card.classList.remove('border-blue-500');
          card.classList.add('border-transparent');
        }
        const check = div.querySelector('.bg-blue-500.rounded-full.w-5');
        if (check) check.remove();
      });

      // 添加选中状态
      const card = element.querySelector('.aspect-square');
      card.classList.remove('border-transparent');
      card.classList.add('border-blue-500');

      // 添加勾选图标
      const checkDiv = document.createElement('div');
      checkDiv.className = 'absolute -top-1 -right-1 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center';
      checkDiv.innerHTML = '<span class="iconify w-3 h-3 text-white" data-icon="heroicons:check-20-solid"></span>';
      element.appendChild(checkDiv);

      // 更新预览
      const theme = themes[themeKey];
      document.getElementById('appPreview').style.background = `linear-gradient(135deg, ${theme.primary}, ${theme.secondary})`;

      showToast('App 主题已更新');
    }

    function selectAccent(color) {
      // 移除所有选中状态
      document.querySelectorAll('.flex.gap-3 button').forEach(btn => {
        btn.classList.remove('border-blue-500', 'border-purple-500', 'border-pink-500', 'border-red-500', 'border-orange-500', 'border-green-500', 'border-teal-500');
        btn.classList.add('border-transparent');
        btn.innerHTML = '';
      });

      // 添加选中状态
      event.target.classList.remove('border-transparent');
      event.target.classList.add('border-' + color + '-500');
      event.target.innerHTML = '<span class="iconify w-5 h-5 text-white" data-icon="heroicons:check-20-solid"></span>';

      showToast('强调色已更新');
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.remove('opacity-0');
      setTimeout(() => {
        toast.classList.add('opacity-0');
      }, 1500);
    }

    // 贴纸相关函数
    function showStickerSheet() {
      const sheet = document.getElementById('stickerSheet');
      const overlay = document.getElementById('stickerOverlay');
      const content = document.getElementById('stickerContent');

      sheet.classList.remove('invisible');
      sheet.classList.add('pointer-events-auto');
      overlay.classList.remove('opacity-0');
      overlay.classList.add('opacity-100');
      content.classList.remove('translate-y-full');
      content.classList.add('translate-y-0');
    }

    function hideStickerSheet() {
      const sheet = document.getElementById('stickerSheet');
      const overlay = document.getElementById('stickerOverlay');
      const content = document.getElementById('stickerContent');

      overlay.classList.remove('opacity-100');
      overlay.classList.add('opacity-0');
      content.classList.remove('translate-y-0');
      content.classList.add('translate-y-full');

      setTimeout(() => {
        sheet.classList.add('invisible');
        sheet.classList.remove('pointer-events-auto');
      }, 300);
    }

    function selectSticker(element, stickerName) {
      // 移除所有选中状态
      document.querySelectorAll('.flex.gap-3 > div').forEach(div => {
        const card = div.querySelector('.w-14');
        if (card) {
          card.classList.remove('border-blue-500');
          card.classList.add('border-transparent');
        }
        const check = div.querySelector('.bg-blue-500.rounded-full.w-4');
        if (check) check.remove();
      });

      // 添加选中状态
      const card = element.querySelector('.w-14');
      card.classList.remove('border-transparent');
      card.classList.add('border-blue-500');

      // 添加勾选图标
      const checkDiv = document.createElement('div');
      checkDiv.className = 'absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center';
      checkDiv.innerHTML = '<span class="iconify w-2.5 h-2.5 text-white" data-icon="heroicons:check-20-solid"></span>';
      element.appendChild(checkDiv);

      showToast('贴纸已应用');
    }

    function selectStickerFromSheet(stickerName) {
      hideStickerSheet();
      showToast('贴纸「' + stickerName + '」已应用');
    }

    function goToStickerStore() {
      hideStickerSheet();
      showToast('正在前往贴纸商店...');
    }

    // 可视化编辑器相关函数
    let currentZoom = 100;

    function showEditorSheet() {
      const sheet = document.getElementById('editorSheet');
      const overlay = document.getElementById('editorOverlay');
      const content = document.getElementById('editorContent');

      sheet.classList.remove('invisible');
      sheet.classList.add('pointer-events-auto');
      overlay.classList.remove('opacity-0');
      overlay.classList.add('opacity-100');
      content.classList.remove('translate-y-full');
      content.classList.add('translate-y-0');
    }

    function hideEditorSheet() {
      const sheet = document.getElementById('editorSheet');
      const overlay = document.getElementById('editorOverlay');
      const content = document.getElementById('editorContent');

      overlay.classList.remove('opacity-100');
      overlay.classList.add('opacity-0');
      content.classList.remove('translate-y-0');
      content.classList.add('translate-y-full');

      setTimeout(() => {
        sheet.classList.add('invisible');
        sheet.classList.remove('pointer-events-auto');
      }, 300);
    }

    function zoomEditor(delta) {
      currentZoom = Math.max(50, Math.min(150, currentZoom + delta));
      document.getElementById('zoomSlider').value = currentZoom;
      updateZoom();
    }

    function updateZoom() {
      currentZoom = parseInt(document.getElementById('zoomSlider').value);
      document.getElementById('zoomValue').textContent = currentZoom + '%';
      document.getElementById('editorCanvas').style.transform = `scale(${currentZoom / 100})`;
    }

    function resetEditor() {
      currentZoom = 100;
      document.getElementById('zoomSlider').value = 100;
      updateZoom();
      showToast('已重置');
    }

    function saveEditorChanges() {
      hideEditorSheet();
      showToast('布局已保存');
    }
  </script>
</body>
</html>
